(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1698bc54"],{"3dc1":function(t,a,e){},4175:function(t,a,e){"use strict";e("3dc1")},"6f2c":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"dom",staticClass:"charts-bar"})},i=[],n=(e("d81d"),e("313e")),o=e.n(n),r={name:"ChartsBar",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.title,a=this.data.legend,e=this.data.data.map((function(t){return t.title})),s=this.data.data.map((function(t){return t.val1})),i=this.data.data.map((function(t){return t.val2})),n=this.data.data.map((function(t){return t.val3})),r={title:{text:t,top:15},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",max:function(t){return 100*Math.ceil(t.max/100)+300}}],color:["#2d8cf0"],series:[{name:a[0],type:"bar",stack:"total",color:"#2d8cf0",barWidth:"40%",label:{show:!0},emphasis:{focus:"series"},data:s},{name:a[1],type:"bar",stack:"total",color:"#19be6b",label:{show:!0},emphasis:{focus:"series"},data:i},{name:a[2],type:"bar",stack:"total",color:"#ff9900",label:{show:!0},emphasis:{focus:"series"},data:n}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(r,!0),window.addEventListener("resize",this.resize)}}},l=r,c=e("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);a["a"]=d.exports},b3d7:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"home-wrapper"},[e("div",{staticClass:"date-row"},t._l(t.cardInfoData,(function(a,s){return e("div",{key:s,staticClass:"data-col"},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("div",{staticClass:"date-cont"},[3===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+"\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count2,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+"\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count3,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+"\n                        ")],1):2===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:1e3,decimals:a.decimals}}),t._v("\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count2,duration:1e3}})],1):1===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:1e3}})],1):t._e(),e("p",{staticClass:"title"},[t._v(t._s(a.title))])])])])],1)})),0),e("el-row",{staticClass:"date-box",attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:t.search,"label-width":"90px"}},[[e("el-form-item",{attrs:{label:"åŒºåŸŸ"}},[e("el-select",{attrs:{placeholder:"è¯·é€‰æ‹©"},model:{value:t.search.areaId,callback:function(a){t.$set(t.search,"areaId",a)},expression:"search.areaId"}},t._l(t.areaList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"æ—¶é—´"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"é€‰æ‹©æ—¥æœŸ"},model:{value:t.search.date,callback:function(a){t.$set(t.search,"date",a)},expression:"search.date"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:t.onSearch}},[t._v("åˆ· æ–°")])],1)]],2)],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("ChartsBarLine",{key:t.incomeKey,staticClass:"data-chart",attrs:{data:t.incomeData}})],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("ChartsBarLine",{key:t.totalKey,staticClass:"data-chart",attrs:{data:t.totalDate}})],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("ChartsBar",{key:t.newUserKey,staticClass:"data-chart",attrs:{title:"æ–°å¢žç”¨æˆ·",data:t.userDate}})],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("ChartsLine",{key:t.activeKey,staticClass:"data-chart",attrs:{data:t.activeData}})],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("ChartsBar",{key:t.channelKey,staticClass:"data-chart",attrs:{title:"å……å€¼æ¸ é“",data:t.channelData}})],1)],1)],1)],1)},i=[],n=(e("ac1f"),e("841c"),e("159b"),e("4e82"),e("d3b7"),e("ddb0"),e("ec1b")),o=e.n(n),r=e("cc56"),l=e("6f2c"),c=e("d909"),d=e("7139"),u={name:"Home",components:{CountTo:o.a,ChartsBar:l["a"],ChartsBarLine:r["a"],ChartsLine:c["a"]},data:function(){return{listLoading:!1,search:{areaId:void 0,date:new Date((new Date).format("yyyy-MM-dd")),startAt:void 0,endAt:void 0},authAreaId:Object(d["n"])(),areaList:Object(d["f"])(!1),appList:Object(d["c"])(),cardInfoData:[],newUserKey:1,incomeKey:20,totalKey:40,activeKey:60,channelKey:80,incomeData:{title:"æ–°å¢žæ”¶å…¥",legend:["æ–°å¢žæ”¶å…¥"],data:[]},totalDate:{title:"å…¨éƒ¨æ”¶å…¥",legend:["æ€»æ”¶å…¥"],data:[]},userDate:{title:"æ–°å¢žç”¨æˆ·",legend:["æ–°å¢žç”¨æˆ·"],data:[]},activeData:{title:"æ´»è·ƒç”¨æˆ·",legend:["æ´»è·ƒç”¨æˆ·"],keys:[],values:[]},channelData:{title:"å……å€¼æ¸ é“",legend:["google","apple","å…¶ä»–"],data:[]}}},created:function(){this.search.areaId=0===this.authAreaId?this.areaList[0].value:this.authAreaId,this.initCard(),this.initData()},methods:{onSearch:function(){this.listLoading=!0,this.initCard(),this.initData()},initCard:function(){var t=this;this.cardInfoData=[],this.$service.home.getOverview(this.handleSearch(),(function(a){var e=a.getIncome(),s=0;e>0&&(e/=100,s=2);var i={title:"å¤§ç›˜å®žæ—¶æ”¶å…¥/è®¢å•æ•°",num:2,count:e,count2:a.getPayCount(),decimals:s},n={title:"æ–°å¢ž/æ´»è·ƒç”¨æˆ·",num:2,count:a.getNewUser(),count2:a.getActiveUser(),decimals:0},o={title:"é€šè¯/åœ¨çº¿ä¸»æ’­",num:2,count:a.getBusyAnchor(),count2:a.getOnlineAnchor(),decimals:0},r={title:"å¾…å®¡æ ¸ä¸»æ’­/èµ„æ–™/è§†é¢‘",num:3,count:a.getReviewAnchor(),count2:a.getReviewProfile(),count3:a.getReviewVideo(),decimals:0},l=a.getNewAmount()/1e3,c=a.getExpenseAmount()/1e3,d=a.getTotalAmount()/1e3,u={title:"æ–°å……å€¼/æ¶ˆè´¹/æ€»ä½™é¢",num:3,count:l,count2:c,count3:d,decimals:0,unit:"K"};t.cardInfoData.push(i),t.cardInfoData.push(n),t.cardInfoData.push(o),t.cardInfoData.push(r),t.cardInfoData.push(u)}))},initData:function(){var t=this;this.$service.home.getHomeStat(this.handleSearch(),(function(a){var e=a.getStatsList(),s=[],i=[],n=[],o=[];e.forEach((function(a){var e=Object(d["e"])(t.appList,a.getAppId()),r=1===e.os?"ðŸ¤–":"",l=e.label+r;if(a.getNewIncome()>0&&s.push({title:l,val1:a.getNewIncome()/100}),a.getTotalIncome()>0&&i.push({title:l,val1:a.getTotalIncome()/100}),a.getNewUser()>0&&n.push({title:l,val1:a.getNewUser()}),a.getGoogleIncome()>0||a.getAppleIncome()>0||a.getOtherIncome()>0){var c=a.getGoogleIncome()/100,u=a.getAppleIncome()/100,h=a.getOtherIncome()/100;o.push({title:l,val1:c,val2:u,val3:h,total:c+u+h})}})),t.userDate.data=n.sort((function(t,a){return a.val1-t.val1})),++t.newUserKey,t.incomeData.data=s.sort((function(t,a){return a.val1-t.val1})),++t.incomeKey,t.totalDate.data=i.sort((function(t,a){return a.val1-t.val1})),++t.totalKey,t.channelData.data=o.sort((function(t,a){return a.total-t.total})),++t.channelKey;var r=a.getHourlyActivesList();t.handleActiveData(r),++t.activeKey,t.listLoading=!1}))},handleSearch:function(){var t=this.search.date;return this.search.startAt=this.startUnix(t),this.search.endAt=this.endUnix(t),this.search},handleActiveData:function(t){var a=[],e=[],s=[];t.forEach((function(t,e){a.push(e+":00"),s.push(t)})),e.push(s),this.activeData.keys=a,this.activeData.values=e,++this.activeKey},startUnix:function(t){return new Date(t.toLocaleDateString()).getTime()/1e3},endUnix:function(t){return this.startUnix(t)+86400-1}}},h=u,p=(e("4175"),e("2877")),m=Object(p["a"])(h,s,i,!1,null,null,null);a["default"]=m.exports},cc56:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"dom",staticClass:"charts-bar"})},i=[],n=(e("d81d"),e("313e")),o=e.n(n),r={name:"ChartsBar",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){console.log("ç»„ä»¶......");var t=this.data.title,a=this.data.legend,e=this.data.data.map((function(t){return t.title})),s=this.data.data.map((function(t){return t.val1})),i=this.data.data.map((function(t){return t.val2})),n=this.data.data.map((function(t){return t.val3})),r=this.data.data.map((function(t){return t.val4})),l={title:{text:t,top:5},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",max:function(t){return 100*Math.ceil(t.max/100)+200}},{type:"value",show:!1,axisLabel:{formatter:"{value} %"}}],series:[{name:a[0],type:"bar",stack:"total",color:"#2d8cf0",barWidth:"40%",label:{show:!0},emphasis:{focus:"series"},data:s},{name:a[1],type:"bar",stack:"total",color:"#19be6b",label:{show:!0},emphasis:{focus:"series"},data:i},{name:a[2],type:"line",color:"#19be6b",yAxisIndex:1,data:n},{name:a[3],type:"line",color:"#ff9900",yAxisIndex:1,data:r}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(l),window.addEventListener("resize",this.resize)}}},l=r,c=e("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);a["a"]=d.exports},d909:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"dom",staticClass:"charts-line"})},i=[],n=(e("d3b7"),e("ddb0"),e("159b"),e("313e")),o=e.n(n),r={name:"ChartsLine",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{init:function(t){this.data=t,this.drawing()},resize:function(){this.dom.resize()},drawing:function(){var t=this,a=this.data.title,e=this.data.legend,s=this.data.keys,i=[];e.forEach((function(a,e){var s={name:a,type:"line",data:t.data.values[e]};i.push(s)}));var n={title:{text:a,top:15},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:s,axisTick:{alignWithLabel:!0,type:"shadow"}}],yAxis:[{type:"value"}],series:i};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(n),window.addEventListener("resize",this.resize)}}},l=r,c=e("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);a["a"]=d.exports}}]);